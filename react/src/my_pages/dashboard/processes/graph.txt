
  import { Canvas } from 'reaflow';

const getSchema = () => {
    if (process && process.phaseinstantiations) {
      const nodes = []
      const edges = []
      process.phaseinstantiations.forEach(phaseinstantiation => {
        nodes.push(
          {
            id: phaseinstantiation.id,
            text: phaseinstantiation.phase.name
          }
        ) 
        phaseinstantiation.objectiveinstantiations.forEach(objectiveinstantiation => {
          nodes.push(
            {
              id: objectiveinstantiation.id,
              text: objectiveinstantiation.objective.name
            }
          )
          edges.push(
            {
              id: `${phaseinstantiation.id}-${objectiveinstantiation.id}`,
              from: phaseinstantiation.id,
              to: objectiveinstantiation.id
            },
          ) 
        })
      })
      return {
        nodes: nodes,
        edges: edges
      }
    }
    return {
      nodes: [],
      edges: []
    }

  }

  const {nodes, edges} = getSchema()
  <Canvas
                pannable={false}
                direction="RIGHT"
                nodes={nodes}
                edges={edges}
              />